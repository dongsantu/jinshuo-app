(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-product-order"],{"0486":function(t,e,i){var n=i("133b");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=i("4f06").default;o("41b9d386",n,!0,{sourceMap:!1,shadowMode:!1})},"133b":function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.uni-popup[data-v-71509e1c]{position:fixed;top:0;bottom:0;left:0;right:0;z-index:99999;overflow:hidden}.uni-popup__mask[data-v-71509e1c]{position:absolute;top:0;bottom:0;left:0;right:0;z-index:998;background:rgba(0,0,0,.4);opacity:0}.uni-popup__mask.ani[data-v-71509e1c]{-webkit-transition:all .3s;transition:all .3s}.uni-popup__mask.uni-top[data-v-71509e1c], .uni-popup__mask.uni-bottom[data-v-71509e1c], .uni-popup__mask.uni-center[data-v-71509e1c]{opacity:1}.uni-popup__wrapper[data-v-71509e1c]{position:absolute;z-index:999;box-sizing:border-box}.uni-popup__wrapper.ani[data-v-71509e1c]{-webkit-transition:all .3s;transition:all .3s}.uni-popup__wrapper.top[data-v-71509e1c]{top:0;left:0;width:100%;-webkit-transform:translateY(-100%);transform:translateY(-100%)}.uni-popup__wrapper.bottom[data-v-71509e1c]{bottom:0;left:0;width:100%;-webkit-transform:translateY(100%);transform:translateY(100%)}.uni-popup__wrapper.center[data-v-71509e1c]{width:100%;height:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-transform:scale(1.2);transform:scale(1.2);opacity:0}.uni-popup__wrapper-box[data-v-71509e1c]{position:relative;box-sizing:border-box}.uni-popup__wrapper.uni-custom.center .uni-popup__wrapper-box[data-v-71509e1c]{position:relative;max-width:98%;max-height:98%;overflow-y:scroll}.uni-popup__wrapper.uni-custom.top .uni-popup__wrapper-box[data-v-71509e1c], .uni-popup__wrapper.uni-custom.bottom .uni-popup__wrapper-box[data-v-71509e1c]{width:100%;max-height:500px;overflow-y:scroll}.uni-popup__wrapper.uni-top[data-v-71509e1c], .uni-popup__wrapper.uni-bottom[data-v-71509e1c]{-webkit-transform:translateY(0);transform:translateY(0)}.uni-popup__wrapper.uni-center[data-v-71509e1c]{-webkit-transform:scale(1);transform:scale(1);opacity:1}',""])},"212d":function(t,e,i){"use strict";i.r(e);var n=i("5112"),o=i("6997");for(var r in o)"default"!==r&&function(t){i.d(e,t,function(){return o[t]})}(r);i("c86b");var s,a=i("f0c5"),u=Object(a["a"])(o["default"],n["b"],n["c"],!1,null,"623d180f",null,!1,n["a"],s);e["default"]=u.exports},2285:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAEPklEQVRoQ9VZTXYaRxD+qltia/sEQScIekZr4xNYOYGlXQx+z+QEIicQfi+Q7IxOYHKCjNegIJ1A0g3I1nF35dXAEH5mpnuawULaaEFXdX3V9fNVDeGJ/9ETtx+lAHj3N14RqwYxNeYOSf6v+IfB9wS6Z+KIrL05PMCX7jGm2zgxGEBrhDdM+oyA020MYGBIbAa9E/wZoqcQgPYEz79a9YEYbYCeh1yYJSOvA8KgouzHIq/iDaA11m8Z3CFQtUzDN3XxFKB2r26ufO5xAhCv/2v0ZwCpce1zSeCZyGhz/scx7vPkcwG8H6HBpD6XHS7+gHhqYc9/r2OYJZMJoHmtz4jxyf+y3Z1kwnn/pRmk3ZAKYJ+MT4zOArEBYBY2+q/d+TNcs4X5aT2cVgD8PEFVGzV5vJjPLLIPTNRJC6MVAK1x7PnvXW0yn4QZXxRM57cTRM4kbl2rNpguwx+4TEm+Ym27/WPcpGmVME9AxS8wq/Xq7jFDh8H/EDA02nayar8YbqEuiVDt1e0LsT0G8JjeF8PB6FYObDeLQsQUxqhLAp2tV6UYQHOkJkRUKzMI3Lo4TsyKMsM87tO8VhcZ3Cvq1c1rak5QI6Mn7gvLOsG3TNTNakzJLXG4kPqUx72MNkdUJHx6dUPNkeoQ0UVROD4VRXRKKVdGX/rQdGlu1BzrIQFvfAw61OaFPPecIw0A+sEtx1d5ibksnxMuqdcw+CM1x+rOlyIvt/N5Ygm9/rCu3Scxl2XejXFKUl0KUnV5VWqNNbu9uDgRJ86K1+IcUm3m+ZygZCjJT8xEftb5tRDGoOYZAgCszXFWg/F1xP+THXV8ZTI7cWusbgD60V8RX/XqdlGP/eVmJ0PDJRNAc6QjIrzyN4Snh9oeFZlbk+qyTbik28e3ksTdtETMBUT8S++l7fqAjmnKN3UBorbP+SJn4hwIGV5kg9Cv2yPXZbIIALi7K47FzL/SvBLcuYxZ/z1tuEjOzLu7MNug6uJrC7F5PSNzY3Xv15RWVG+U1DKriwuE9JqKttWEzAXRA/FAwst3HS6bgGbVcDEPfDVK9pbPXMhTfo8YXC3aRQPuWRFJnLcYKYOq0bZWBMpL9emfmDi/FgDm3Cb0FQJNCRNbDt2VoV66pEK8RtzbP2Gg/bpd9JSNvdB+hxLfHmrbWGYBqZu51lgJ13+7T88gZdNqW1sf+DN3o/sEIp4vtG2kseDc7fR+gOAH1vY0i8I7vw+EzsBlhJ+Uy8qBOc1jvk4AYkhxyr2d+clI2j+xzoHHE8D33Bv5LwFWGlmezwrOzYXd77NWzFLqfIHs7wX8wIwBkXxmLTKSzkyJwwQUMcwg7xOSyxtOAGmLLxkkluNTZgoyqBGrmixeFxuKjds5IoUpKxttuxhIVDsBLHdmqQr2wJy5vhy6vFbm7x4AZHPHNQvb3uapyzR6WZcTwK4uLkvvkwfwH5eOAOjwFSbwAAAAAElFTkSuQmCC"},"26e5":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("c5f6");var n={data:function(){return{stepperNum:0,stepperCacheNum:0}},name:"sunui-stepper",props:{val:{type:[String,Number],default:0},min:{type:[String,Number],default:0},max:{type:[String,Number],default:0},step:{type:Number,default:1},label:{type:Number,default:0},disabled:{type:Boolean,default:!1},active:{type:String,default:"#666"},unactive:{type:String,default:"#ddd"}},created:function(){this.stepperNum=this.val,this.stepperCacheNum=this.val},watch:{val:function(t){this.stepperNum=this.val}},methods:{less:function(){this.stepperNum<=this.min?this.stepperNum=this.min:this.stepperNum-=Math.ceil(10*this.step)/10,this.stepperCacheNum=Number(this.stepperNum.toFixed(1)),this.emit(this.stepperCacheNum,this.label)},add:function(){this.stepperNum>=this.max?this.stepperNum=this.max:this.stepperNum+=Math.ceil(10*this.step)/10,this.stepperCacheNum=Number(this.stepperNum.toFixed(1)),this.emit(this.stepperCacheNum,this.label)},emit:function(t,e){Number(t.toFixed(1))>this.max&&(t=this.max,this.stepperCacheNum=this.max),Number(t.toFixed(1))<this.min&&(t=this.min,this.stepperCacheNum=this.min),this.$emit("change",{val:t,label:e})},iptVal:function(t){Number(t.detail.value)>this.max?this.stepperNum=this.max:this.stepperNum}}};e.default=n},"35d6":function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.i-btn[data-v-623d180f]{width:%?40?%;height:%?40?%}.i-btn img[data-v-623d180f]{width:%?40?%;height:%?40?%}.sunui-stepper[data-v-623d180f]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.sunui-stepper uni-view[data-v-623d180f]{display:inline-block;font-size:1.6em;font-weight:700;line-height:1em;padding:%?4?%;border:%?1?% solid #eee}.sunui-stepper uni-view.l[data-v-623d180f]{\n      /* padding:4upx 12upx; //1 */}.sunui-stepper uni-input[data-v-623d180f]{width:%?80?%;text-align:center;background-color:#eee;padding:%?4?%}',""])},"4c6a":function(t,e,i){"use strict";var n={"sunui-stepper":i("212d").default,"uni-popup":i("66ca").default},o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("v-uni-view",{staticClass:"box-shadow box"},[t.product.name?i("v-uni-view",{staticClass:"pad10 pro-name"},[t._v(t._s(t.product.name))]):t._e(),t.product.spuOtherDto?i("v-uni-view",{staticClass:"pad_lr10 f-c-g2"},[t._v("有效日期 : "+t._s(t.product.spuOtherDto.activityDate))]):t._e(),i("v-uni-view",{staticClass:"f-between-c l-h80 t-b pad10"},[i("v-uni-view",[t._v("购买数量")]),t.order.goodsOrderDetailCmdList?i("v-uni-view",[i("sunui-stepper",{attrs:{label:1,max:10,val:t.order.goodsOrderDetailCmdList[0].number,min:1},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.stepperChange.apply(void 0,arguments)}}})],1):t._e()],1)],1),t.product.skus&&t.product.skus.length>1?i("v-uni-view",{staticClass:"box-shadow box pad_lr10"},[i("v-uni-view",{staticClass:"box-title"},[t._v("可选规格")]),i("v-uni-view",{staticClass:"pad10"},t._l(t.product.skus,function(e,n){return i("v-uni-view",{key:n,staticClass:"pad5 skuItem f-between-c",class:{checked:e.id===t.order.goodsOrderDetailCmdList[0].goodsSkuId},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.changeSku(e)}}},[i("v-uni-text",[t._v(t._s(e.name))]),i("v-uni-text",[t._v("￥"+t._s(e.price))])],1)}),1)],1):t._e(),"1"===t.product.typeId?i("v-uni-view",{staticClass:"box-shadow box pad_lr10"},[i("v-uni-view",[i("v-uni-view",{staticClass:"f-between-c pad_tb5"},[i("v-uni-view",{staticClass:"lab l-h80"},[t._v("配送方式:")]),i("v-uni-view",{staticClass:" flex-box l-h80"},[i("v-uni-text",{staticClass:"mrg_r10"},[t._v("快递")]),t.product.spuOtherDto&&t.product.spuOtherDto.courierFee?i("v-uni-text",[t._v("￥"+t._s(t.product.spuOtherDto.courierFee))]):i("v-uni-text",[t._v("免运费")])],1)],1)],1)],1):t._e(),i("v-uni-view",{staticClass:"box-shadow box pad_lr10"},[i("v-uni-view",{staticClass:"box-title"},[t._v("预订人信息")]),i("v-uni-view",["1"===t.product.typeId?i("v-uni-view",{staticClass:"flex-box pad_tb5 b-b"},[i("v-uni-view",{staticClass:"lab l-h64"},[t._v("收货地址:")]),i("v-uni-navigator",{staticClass:"font-28 f-l-c",attrs:{url:"/pages/my/addressList?id="+t.product.id+"&ifSelect=1&shopId="+t.$store.state.shopId}},[t.order.goodsOrderAddressCmd.userAddress?i("v-uni-view",[t._v(t._s(t.order.goodsOrderAddressCmd.userAddress))]):i("v-uni-view",{staticClass:"f-c-g2"},[t._v("选择收货地址")])],1)],1):t._e(),i("v-uni-view",{staticClass:"flex-box pad_tb5 b-b"},[i("v-uni-view",{staticClass:"lab l-h64"},[t._v("联系人:")]),i("v-uni-view",{staticClass:"f-l-c"},[i("v-uni-input",{staticClass:"font-28",attrs:{placeholder:"请填写联系人姓名"},on:{blur:function(e){arguments[0]=e=t.$handleEvent(e),t.blurFun.apply(void 0,arguments)}},model:{value:t.order.goodsOrderAddressCmd.userName,callback:function(e){t.$set(t.order.goodsOrderAddressCmd,"userName",e)},expression:"order.goodsOrderAddressCmd.userName"}})],1)],1),i("v-uni-view",{staticClass:"flex-box pad_tb5"},[i("v-uni-view",{staticClass:"lab l-h64"},[t._v("联系电话:")]),i("v-uni-view",{staticClass:"f-l-c"},[i("v-uni-input",{staticClass:"font-28",attrs:{type:"number",placeholder:"请填写手机号码"},on:{blur:function(e){arguments[0]=e=t.$handleEvent(e),t.blurFun.apply(void 0,arguments)}},model:{value:t.order.goodsOrderAddressCmd.userPhone,callback:function(e){t.$set(t.order.goodsOrderAddressCmd,"userPhone",e)},expression:"order.goodsOrderAddressCmd.userPhone"}})],1)],1)],1)],1),i("v-uni-view",{staticClass:"box-shadow box pad_lr10"},[i("v-uni-view",{staticClass:"box-title"},[t._v("优惠信息")]),i("v-uni-view",[i("v-uni-view",{staticClass:"f-between-c pad_tb5"},[i("v-uni-view",{staticClass:"lab l-h80"},[t._v("优惠券:")]),i("v-uni-navigator",{staticClass:"f-c-orange1 flex-box l-h80",attrs:{url:"/pages/coupon/chooseCoupon?targetId="+t.product.id+"&qry="+t.qry+"&shopId="+t.$store.state.shopId}},[t.couponAmount?i("v-uni-view",{staticClass:"l-h80"},[t._v("省￥"+t._s(t.couponAmount))]):t.couponNum?i("v-uni-view",{staticClass:"l-h80"},[t._v("有"+t._s(t.couponNum)+"张可用")]):i("v-uni-view",{staticClass:"l-h80"},[t._v("无可用")]),i("v-uni-view",{staticClass:"tralfont tral-jiantouyou mrg_l5 f-c-orange1 l-h80"})],1)],1)],1)],1),i("v-uni-view",{staticClass:"h50"}),i("v-uni-view",{staticClass:"foot-menu",class:{fixtop:!t.showPay}},[t.orderId?i("v-uni-view",{staticClass:"f-c-c"},[t.lock?t._e():i("v-uni-view",{staticClass:"f-c-orange1 font-40 l-h80 text-c",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.payFun.apply(void 0,arguments)}}},[t._v("继续支付")])],1):i("v-uni-view",{staticClass:"flex-box"},[i("v-uni-view",{staticClass:"f-between-c flex-item"},[i("v-uni-view",{staticClass:"f-c-orange1 font-40 l-h80 pad_l10"},[t._v("￥"+t._s(t.sumPrice))]),t.showDetail?i("v-uni-view",{staticClass:"f-c-g1 pad_r10",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.hideDetailFun.apply(void 0,arguments)}}},[t._v("明细"),i("v-uni-view",{staticClass:"tralfont tral-jiantouxia font-24 pad_l5"})],1):i("v-uni-view",{staticClass:"f-c-g1 pad_r10",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showDetailFun.apply(void 0,arguments)}}},[t._v("明细"),i("v-uni-view",{staticClass:"tralfont tral-jiantoushang font-24 pad_l5"})],1)],1),i("v-uni-view",{staticClass:"submit-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.submitFun.apply(void 0,arguments)}}},[t._v("提交订单")])],1)],1),i("uni-popup",{ref:"popup1",attrs:{type:"bottom",maskClick:!1}},[i("v-uni-view",{staticClass:"bottom-box1"},[i("v-uni-view",{staticClass:"pad10"},[i("v-uni-view",{staticClass:"box-title f-between-c"},[i("v-uni-view",[t._v("支付方式")]),i("v-uni-view",{staticClass:"tralfont tral-guanbi1",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.closePay.apply(void 0,arguments)}}})],1),i("v-uni-view",{staticClass:"act pay-li pad_tb10"},[i("v-uni-view",{staticClass:"wxPay"},[t._v("微信支付")])],1)],1),i("v-uni-view",{staticClass:"pad20"},[i("v-uni-button",{attrs:{type:"warn"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.createOrderFun.apply(void 0,arguments)}}},[t._v("立即支付 ￥"+t._s(t.sumPrice))])],1)],1)],1),i("uni-popup",{ref:"popup",attrs:{type:"bottom",maskClickCallback:t.hideDetailF}},[i("v-uni-view",{staticClass:"bottom-box"},[i("v-uni-view",{staticClass:"f-between-c"},[i("v-uni-view",[t._v("价格：")]),i("v-uni-view",{staticClass:"f-c-primary"},[t._v(t._s(t.order.goodsOrderDetailCmdList[0].number)+" ✕ ￥"+t._s(t.order.goodsOrderDetailCmdList[0].price))])],1),t.product.spuOtherDto&&t.product.spuOtherDto.courierFee?i("v-uni-view",{staticClass:"f-between-c"},[i("v-uni-view",[t._v("运费：")]),i("v-uni-view",{staticClass:"f-c-primary"},[t._v("￥"+t._s(t.product.spuOtherDto.courierFee))])],1):t._e(),t.couponAmount?i("v-uni-view",{staticClass:"f-between-c"},[i("v-uni-view",[t._v("优惠券：")]),i("v-uni-view",{staticClass:"f-c-primary"},[t._v("-￥"+t._s(t.couponAmount))])],1):t._e()],1)],1)],1)},r=[];i.d(e,"b",function(){return o}),i.d(e,"c",function(){return r}),i.d(e,"a",function(){return n})},5112:function(t,e,i){"use strict";var n,o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticStyle:{display:"inline-block"}},[i("v-uni-view",{staticClass:"sunui-stepper"},[i("v-uni-view",{staticClass:"f-c-c f-m",style:t.stepperCacheNum<=t.min?"color:"+t.unactive+";":"color:"+t.active+";",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.less.apply(void 0,arguments)}}},[i("v-uni-image",{staticClass:"i-btn",attrs:{src:"../../static/reduce.png"}})],1),i("v-uni-input",{attrs:{type:"number",value:t.stepperCacheNum,disabled:!0},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.iptVal.apply(void 0,arguments)}}}),i("v-uni-view",{staticClass:"f-c-c f-m",style:t.stepperCacheNum>=t.max?"color:"+t.unactive+";":"color:"+t.active+";",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.add.apply(void 0,arguments)}}},[i("v-uni-image",{staticClass:"i-btn",attrs:{src:"../../static/add.png"}})],1)],1)],1)},r=[];i.d(e,"b",function(){return o}),i.d(e,"c",function(){return r}),i.d(e,"a",function(){return n})},"66ca":function(t,e,i){"use strict";i.r(e);var n=i("8a09"),o=i("884c");for(var r in o)"default"!==r&&function(t){i.d(e,t,function(){return o[t]})}(r);i("b091");var s,a=i("f0c5"),u=Object(a["a"])(o["default"],n["b"],n["c"],!1,null,"71509e1c",null,!1,n["a"],s);e["default"]=u.exports},6997:function(t,e,i){"use strict";i.r(e);var n=i("26e5"),o=i.n(n);for(var r in n)"default"!==r&&function(t){i.d(e,t,function(){return n[t]})}(r);e["default"]=o.a},8289:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAADpElEQVRoQ+1ZXVbTQBT+7igkjQ+yA8sKrA+2vokrEFYgrgBcAbgCYAWUFQgroL5ZeKCuwLoC8aEhKcdcz+SH06RJZtJM4uEc89JzmsnM993/e4fwyB965Pjxn0CiwTv7TZeZ3wNBFyR68n9mDn+JaBKu42ACiCkRXXS8b1MT2q+lAQkaCD4waBdAtyKgKYGHgDirQ2YlAhJ4AD4gQAKv/TAwFKDPqxCpTMC1BnsMPiSijdrIFzZg5lsCHTr++KTKvtoEGL2NO9v6AmCrygErrB11PH+HMLnV+VaLwHztde9e0CkRhU7Z9MPME0FiR8eklARi8JemTUYlBGlSgsQrFYlSAtJsXGtdgm9F8llSUhOOP39XZk6lBFx7cNmCzZcrg/nc8a92ihYVEnCtwT4IRypVt/Ke8cnxx8d5Z+USCOM8Bzdt232RMMr8IZfAzO4PCfShFelqHsLgs2fe1VLiXCIQ1jTgH5r7trqMQJvZqLREYGb3Dwl00Coy3cNyfGGJgGsPpPSrFma6EOqumzreeHNxkxSBts2Hmb8LEtsSEINHAF6oGGbNKEWgzdApwTv+fCtJUrqmSwg+drzrYUI0S+AYhD2VFOq+z4KPC8UbLdNlnDj+eD+fgN0fAfS2LsCy7/PAVytX+KvjXT1UxGkNNEygPvjQW4oJzKz+r6ayrxnwoW5TkSilgZnVvyWi5yoTYubfgoJt4Ok04OCciF42azap3X863vghzK9mQowLxx/H4S8suUdFJAxKPmZhwAdkceX4880kBMZ9wxIJ8+AVPuBaA+0wmm02siSaAR9mvJIwWrEHKCIh47njz7sZDRnp7EoT2SqlRB6J+7W17vr9dTiNM92WlpYS8kDXHsiRn7ImWYwLRb2rafAAUhFIYjBWTueRmNmDU1PTu1BgOuX0KmaUaCMhEWnSOjIKPpS2RkMjD3/ULaUkEDf1E52srMraJt7LzL8Y1QobmsUXbfYGSpJVxyrJhm7D1akSeOS4D2VL3nqd0WJhnaMFoMaibDavTOBf+kNU8YpereFuwjh2amXZXEPYqU+TZl8FPjeRFYGI+tb186ZbTmnzHd/fNXrBkY1O8RWTsvGpohFpMvEVU+4Qt2gv5QVH3ofRJV8gJ3hG5qdy7ul4831dqWvlAR3pxUR2KbpmrVQAysKMwUMBMdSxdaMaKNIK8GeLWfRA0QU3QHHvytGlNtOESF52PxnVAW1MAzpaanrNSj7QNKgq+z96An8BRoUtTwzXUiIAAAAASUVORK5CYII="},"884c":function(t,e,i){"use strict";i.r(e);var n=i("8f1c"),o=i.n(n);for(var r in n)"default"!==r&&function(t){i.d(e,t,function(){return n[t]})}(r);e["default"]=o.a},"8a09":function(t,e,i){"use strict";var n,o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.showPopup?i("v-uni-view",{staticClass:"uni-popup"},[i("v-uni-view",{staticClass:"uni-popup__mask",class:[t.ani,t.animation?"ani":"",t.custom?"":"uni-custom"],on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.maskClickFun.apply(void 0,arguments)}}}),i("v-uni-view",{staticClass:"uni-popup__wrapper",class:[t.type,t.ani,t.animation?"ani":"",t.custom?"":"uni-custom"],on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.close(!0)}}},[i("v-uni-view",{staticClass:"uni-popup__wrapper-box",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.clear.apply(void 0,arguments)}}},[t._t("default")],2)],1)],1):t._e()},r=[];i.d(e,"b",function(){return o}),i.d(e,"c",function(){return r}),i.d(e,"a",function(){return n})},"8f1c":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"UniPopup",props:{animation:{type:Boolean,default:!0},type:{type:String,default:"center"},custom:{type:Boolean,default:!1},maskClick:{type:Boolean,default:!0},show:{type:Boolean,default:!0},maskClickCallback:{type:Function}},data:function(){return{ani:"",showPopup:!1}},watch:{show:function(t){t?this.open():this.close()}},created:function(){},methods:{clear:function(){},open:function(){var t=this;this.$emit("change",{show:!0}),this.showPopup=!0,this.$nextTick(function(){setTimeout(function(){t.ani="uni-"+t.type},30)})},maskClickFun:function(){this.close(!0),this.maskClickCallback&&this.maskClickCallback()},close:function(t){var e=this;!this.maskClick&&t||(this.$emit("change",{show:!1}),this.ani="",this.$nextTick(function(){setTimeout(function(){e.showPopup=!1},300)}))}}};e.default=n},"9db4":function(t,e,i){"use strict";i.r(e);var n=i("fae0"),o=i.n(n);for(var r in n)"default"!==r&&function(t){i.d(e,t,function(){return n[t]})}(r);e["default"]=o.a},"9e41":function(t,e,i){"use strict";(function(n){var o=i("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.validator=void 0,i("a481");var r=o(i("0a0d"));i("28a5");var s=o(i("59ad"));i("6b54");var a=o(i("e814")),u=i("b78d");function d(t){if("number"!==typeof t||t<0)return t;var e=(0,a.default)(t/3600);t%=3600;var i=(0,a.default)(t/60);t%=60;var n=t;return[e,i,n].map(function(t){return t=t.toString(),t[1]?t:"0"+t}).join(":")}function c(t,e){return"string"===typeof t&&"string"===typeof e&&(t=(0,s.default)(t),e=(0,s.default)(e)),t=t.toFixed(2),e=e.toFixed(2),{longitude:t.toString().split("."),latitude:e.toString().split(".")}}var p={UNITS:{"年":315576e5,"月":26298e5,"天":864e5,"小时":36e5,"分钟":6e4,"秒":1e3},humanize:function(t){var e="";for(var i in this.UNITS)if(t>=this.UNITS[i]){e=Math.floor(t/this.UNITS[i])+i+"前";break}return e||"刚刚"},format:function(t){var e=this.parse(t),i=(0,r.default)()-e.getTime();if(i<this.UNITS["天"])return this.humanize(i);var n=function(t){return t<10?"0"+t:t};return e.getFullYear()+"/"+n(e.getMonth()+1)+"/"+n(e.getDay())+"-"+n(e.getHours())+":"+n(e.getMinutes())},parse:function(t){var e=t.split(/[^0-9]/);return new Date(e[0],e[1]-1,e[2],e[3],e[4],e[5])},getTimeF:function(t,e){var i={d:0,h:0,m:0,s:0,ifover:!0},o=0,r=0;e?(o=(new Date).getTime(),r=new Date(Date.parse(t.replace(/-/g,"/"))).getTime()+60*e*1e3):(o=(new Date).getTime(),r=new Date(Date.parse(t.replace(/-/g,"/"))).getTime());var s=r-o;s<=0?s=0:i.ifover=!1,n.log("btw",s),i.d=Math.floor(s/864e5);var a=s%864e5;i.h=Math.floor(a/36e5);var u=a%36e5;i.m=Math.floor(u/6e4);var d=u%6e4;return i.s=Math.floor(d/1e3),i},timeToDate:function(t){var e=new Date(Date.parse(t.replace(/-/g,"/"))).getTime(),i=new Date;return i.setTime(e),i.getFullYear()+"年"+(i.getMonth()+1)+"月"+i.getDate()+"日"},timeToDateTime:function(t){var e=new Date(Date.parse(t.replace(/-/g,"/"))).getTime(),i=new Date;return i.setTime(e),i.getFullYear()+"年"+(i.getMonth()+1)+"月"+i.getDate()+"日 "+i.getHours()+":"+i.getMinutes()}},l={ifEmpty:function(t,e){return!t&&(uni.showToast({title:e,duration:2e3,icon:"none"}),!0)},ifPhone:function(t,e){if(!/^1[1-9][0-9]{9}$/.test(t))return uni.showToast({title:e,duration:2e3,icon:"none"}),!0},ifEmail:function(t,e){if(!/^(\w)+(\.\w+)*@(\w)+((\.\w+)+)$/.test(t))return uni.showToast({title:e,duration:2e3,icon:"none"}),!0},ifCode:function(t,e){if(!/^[0-9]{4}$/.test(t))return uni.showToast({title:e,duration:2e3,icon:"none"}),!0},ifSame:function(t,e,i){if(t!=e)return uni.showToast({title:i,duration:2e3,icon:"none"}),!0},ifIDCard:function(t,e){var i=/^[1-9]{1}[0-9]{14}$|^[1-9]{1}[0-9]{16}([0-9]|[xX])$/;if(!i.test(t))return uni.showToast({title:e,duration:2e3,icon:"none"}),!0},ifEnNum:function(t,e){var i=/^[0-9a-zA-Z]*$/;if(!i.test(t))return uni.showToast({title:e,duration:2e3,icon:"none"}),!0}};function f(t,e,i){setTimeout(function(){uni.reLaunch({url:"/pages/product/paySuccess?price="+t+"&orderNo="+e+"&id="+i})},1900)}function v(t){setTimeout(function(){uni.reLaunch({url:"/pages/order/detail?id="+t})},1900)}function h(t,e,i,n,o,r,s,a){WeixinJSBridge.invoke("getBrandWCPayRequest",{appId:t,timeStamp:e,nonceStr:i,package:n,signType:"MD5",paySign:o},function(t){"get_brand_wcpay_request:ok"==t.err_msg?(uni.showToast({title:"支付成功！",duration:2e3}),f(r,s,a)):"get_brand_wcpay_request:fail"==t.err_msg&&(uni.showToast({title:"支付失败！",duration:2e3,icon:"none"}),setTimeout(function(){uni.reLaunch({url:"/pages/order/detail?id="+a})},1900))})}function m(t,e,i){(0,u.submitWXOrder)({id:t}).then(function(n){var o=n.data.result;if("FAIL"==o.return_code)uni.showToast({title:o.return_msg,duration:2e3,icon:"none"}),v(t);else if("FAIL"==o.result_code)uni.showToast({title:o.err_code_des,duration:2e3,icon:"none"}),v(t);else if("FAIL"===o.needPay)uni.showToast({title:"下单成功",duration:2e3,icon:"none"}),v(t);else{var r=o.payappId,s=o.paytimestamp,a=o.paynonceStr,u=o.paypackage,d=o.paySign;h(r,s,a,u,d,e,i,t)}}).catch(function(e){uni.showToast({title:"调用微信支付失败",duration:2e3,icon:"none"}),v(t)})}function g(t){n.log("进入分享"),WeixinJSBridge.invoke("sendAppMessage",{appid:t.appid,img_url:t.imgUrl,img_width:"200",img_height:"200",link:t.lineLink,desc:t.descContent,title:t.shareTitle},function(t){n.log("分享成功")})}function w(t){n.log("进入分享"),WeixinJSBridge.invoke("shareTimeline",{img_url:t.imgUrl,img_width:"200",img_height:"200",link:t.lineLink,desc:t.descContent,title:t.shareTitle},function(t){n.log("分享成功")})}function b(t){n.log("kaishistart"),WeixinJSBridge.on("menu:share:appmessage",function(e){n.log("kaishi分享"),g(t)}),WeixinJSBridge.on("menu:share:timeline",function(e){n.log("kaishi分享"),w(t)})}function y(t){document.removeEventListener("WeixinJSBridgeReady",b(t)),document.addEventListener("WeixinJSBridgeReady",b(t))}e.validator=l,t.exports={formatTime:d,formatLocation:c,dateUtils:p,validator:l,submitWXOrderFun:m,shareFun:y}}).call(this,i("5a52")["default"])},b091:function(t,e,i){"use strict";var n=i("0486"),o=i.n(n);o.a},b78d:function(t,e,i){"use strict";var n=i("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.getSpuByPage=r,e.getSpuInfoBySpuId=s,e.getFirstPageCategorys=a,e.getExcellent=u,e.createOrder=d,e.cancelOrder=c,e.queryOrderList=p,e.queryOrderDetail=l,e.wechatPay=f,e.getCollectList=v,e.addCollect=h,e.delCollect=m,e.getIfCollect=g,e.submitWXOrder=w,e.getCoupons=b,e.receiveCoupon=y,e.useCoupon=C,e.checkCoupon=x,e.getMyCoupons=A,e.getMyCouponDetail=k,e.getMyCouponsCount=_,e.getOrderCountWithStatus=T,e.getMyCouponByTargetId=S,e.getWXAuth=D,e.addAddress=O,e.updateAddress=I,e.getAddressList=N,e.getAddressByid=F,e.queryAdByCode=P,e.shortUrl=B,e.getThemeByCode=L,e.getProductByTopic=E,e.queryPopAdByCode=M,e.geocoderF=R,e.getCityList=q,e.schedule=z;var o=n(i("afbe"));function r(t){return o.default.post("/itemApi/v1/wx/spu/getSpuByPage",t)}function s(t){return o.default.post("/itemApi/v1/wx/spu/getSpuInfoBySpuId",t)}function a(t){return o.default.post("/itemApi/v1/wx/spu/getFirstPageCategorys",t)}function u(t){return o.default.post("/itemApi/v1/wx/spu/getExcellent",t)}function d(t){return o.default.post("/orderApi/v1/wx/gd/add",t)}function c(t){return o.default.post("/orderApi/v1/wx/gd/cancelOrder",t)}function p(t){return o.default.post("/orderApi/v1/wx/gd/query",t)}function l(t){return o.default.post("/orderApi/v1/wx/gd/queryDetail",t)}function f(t){return o.default.post("/orderApi/v1/wx/gd/pay/wechat",t)}function v(t){return o.default.post("/userApi/v1/wx/collect/getByPage",t)}function h(t){return o.default.post("/userApi/v1/wx/collect/create",t)}function m(t){return o.default.get("/userApi/v1/wx/collect/delete/"+t.id,t)}function g(t){return o.default.post("/userApi/v1/wx/collect/checkIsCollect",t)}function w(t){return o.default.post("/orderApi/v1/wx/gd/pay/wechat",t)}function b(t){return o.default.post("/itemApi/v1/wx/coupon/getCoupons",t)}function y(t){return o.default.post("/itemApi/v1/wx/coupon/receiveCoupon",t)}function C(t){return o.default.post("/itemApi/v1/api/coupon/useCoupon",t)}function x(t){return o.default.post("/itemApi/v1/api/coupon/checkCoupon",t)}function A(t){return o.default.post("/itemApi/v1/wx/coupon/getMyCoupons",t)}function k(t){return o.default.get("/itemApi/v1/wx/coupon/getById/"+t.id)}function _(t){return o.default.get("/itemApi/v1/wx/coupon/getMyCouponsCount")}function T(t){return o.default.get("/orderApi/v1/wx/gd/getOrderCountWithStatus")}function S(t){return o.default.post("/itemApi/v1/wx/coupon/getMyCouponByTargetId",t)}function D(t){return o.default.post("/userApi/v1/wx/login/sign",t)}function O(t){return o.default.post("/userApi/v1/wx/address/create",t)}function I(t){return o.default.post("/userApi/v1/wx/address/update",t)}function N(t){return o.default.post("/userApi/v1/wx/address/getByPage",t)}function F(t){return o.default.get("/userApi/v1/wx/address/getAddressByid/"+t.id)}function P(t){return o.default.post("/itemApi/v1/wx/ad/queryAdByCode",t)}function B(t){return o.default.post("http://t1.ymzby.com/v1/api/shortUrl/build",t)}function L(t){return o.default.post("/itemApi/v1/wx/topic/getThemeByCode",t)}function E(t){return o.default.post("/itemApi/v1/wx/topic/getProductByTopic",t)}function M(t){return o.default.post("/itemApi/v1/wx/ad/queryPopAdByCode",t)}function R(t){return o.default.post("/userApi/v1/api/map/geocoder",{location:t.lat+","+t.lng})}function q(t){return o.default.get("/itemApi/v1/manager/city/getCityList/"+t.shopId)}function z(t){return o.default.post("/orderApi/v1/wx/gd/express/schedule",t)}},bd84:function(t,e,i){var n=i("35d6");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=i("4f06").default;o("29727164",n,!0,{sourceMap:!1,shadowMode:!1})},c86b:function(t,e,i){"use strict";var n=i("bd84"),o=i.n(n);o.a},e684:function(t,e,i){var n=i("b041");e=t.exports=i("2350")(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.skuItem[data-v-77fe0fcd]{background-color:#f1f1f1;line-height:%?60?%;padding:0 %?30?%;border-radius:%?10?%;margin-bottom:%?10?%;border:1px solid #f1f1f1}.skuItem.checked[data-v-77fe0fcd]{border:1px solid #f60837;color:#f60837;background-color:#f9e9ec}.l-h64[data-v-77fe0fcd]{line-height:%?74?%}.l-h64 .tralfont[data-v-77fe0fcd]{line-height:%?74?%}.f-c-orange1[data-v-77fe0fcd]::before{color:#ff785f}.pad_t2[data-v-77fe0fcd]{padding-top:%?8?%}.onuse[data-v-77fe0fcd]{text-decoration:line-through}.foot-menu.fixtop[data-v-77fe0fcd]{z-index:999999}.bottom-box[data-v-77fe0fcd]{box-sizing:border-box;padding:%?20?%;margin-bottom:%?100?%;background-color:#fff;width:100%}.bottom-box1[data-v-77fe0fcd]{box-sizing:border-box;padding:%?20?%;background-color:#fff;width:100%}.font-24[data-v-77fe0fcd]{font-size:%?22?%}.font-24[data-v-77fe0fcd] ::before{font-size:%?22?%}.submit-btn[data-v-77fe0fcd]{width:%?260?%;background-color:#f60837;text-align:center;line-height:%?100?%;color:#fff;font-size:%?36?%;font-weight:700}.pay-li[data-v-77fe0fcd]{width:100%}.pay-li.act[data-v-77fe0fcd]{background:url('+n(i("8289"))+") no-repeat 100%;background-size:%?48?%}.wxPay[data-v-77fe0fcd]{padding-left:%?60?%;background:url("+n(i("2285"))+") no-repeat 0;background-size:%?40?%}.pro-name[data-v-77fe0fcd]{font-size:%?34?%;font-weight:700;line-height:%?46?%}.lab[data-v-77fe0fcd]{width:%?180?%}",""])},ee08:function(t,e,i){"use strict";var n=i("f37c"),o=i.n(n);o.a},f20f:function(t,e,i){"use strict";i.r(e);var n=i("4c6a"),o=i("9db4");for(var r in o)"default"!==r&&function(t){i.d(e,t,function(){return o[t]})}(r);i("ee08");var s,a=i("f0c5"),u=Object(a["a"])(o["default"],n["b"],n["c"],!1,null,"77fe0fcd",null,!1,n["a"],s);e["default"]=u.exports},f37c:function(t,e,i){var n=i("e684");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=i("4f06").default;o("1cd18567",n,!0,{sourceMap:!1,shadowMode:!1})},fae0:function(t,e,i){"use strict";(function(t){var n=i("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("c5f6");var o=n(i("f499")),r=n(i("66ca")),s=n(i("212d")),a=i("b78d"),u=i("9e41"),d={components:{sunuiStepper:s.default,uniPopup:r.default},data:function(){return{lock:!1,couponNum:"",params:{targetCmds:[],pageNum:1,pageSize:10},couponReceiveId:"",couponAmount:"",orderNo:"",orderId:"",max:10,startT:"",endT:"",endTime:{d:0,h:0,m:0,s:0},showDetail:!1,showPay:!1,step:1,product:{id:""},order:{inviteCode:"",goodsCount:1,goodsOrderAddressCmd:{userAddress:"",userName:"",userPhone:""},goodsOrderDetailCmdList:[{discountAmount:0,discountRate:0,goodsSkuId:0,goodsSpuId:0,number:1,remarks:"",price:""}],memberId:111111,orderType:1,remarks:"",supplierId:"1111"}}},watch:{isToken:function(){this.init()}},computed:{isToken:function(){return this.$store.state.login?this.$store.state.login.token:""},qry:function(){return(0,o.default)([{count:this.count?this.count:1,targetId:this.skuId}])},count:function(){return this.order.goodsOrderDetailCmdList?this.order.goodsOrderDetailCmdList[0].number:1},skuId:function(){return this.product.skus?this.product.skus[0].id:""},sumPrice:function(){var e=0;return t.log("this.order.goodsOrderDetailCmdList",this.order.goodsOrderDetailCmdList),this.order.goodsOrderDetailCmdList[0].price&&(e=this.order.goodsOrderDetailCmdList[0].number*this.order.goodsOrderDetailCmdList[0].price),this.product.spuOtherDto&&this.product.spuOtherDto.courierFee&&(e+=this.product.spuOtherDto.courierFee),this.couponAmount&&(e-=this.couponAmount),e<0&&(e=0),Number(e).toFixed(2)}},onLoad:function(e){t.log("params",e),e.id&&(this.product.id=e.id),e.couponReceiveId&&(this.couponReceiveId=e.couponReceiveId),e.couponAmount&&(this.couponAmount=e.couponAmount),this.init()},onShow:function(){t.log("show参数",this.$root.$mp.query),this.$root.$mp.query.id&&(this.product.id=this.$root.$mp.query.id),this.$root.$mp.query.couponReceiveId&&(this.couponReceiveId=this.$root.$mp.query.couponReceiveId),this.$root.$mp.query.couponAmount&&(this.couponAmount=this.$root.$mp.query.couponAmount);var e=uni.getStorageSync("order");t.log("order1",e),e&&(this.order=JSON.parse(e),t.log("this.order",this.order)),this.init()},onHide:function(){this.orderId="",this.orderNo="",uni.setStorageSync("order",(0,o.default)(this.order)),t.log("order------\x3e",uni.getStorageSync("order"))},onUnload:function(){this.orderId="",this.orderNo=""},methods:{gotoSuccess:function(t,e,i){setTimeout(function(){uni.reLaunch({url:"/pages/product/paySuccess?price="+t+"&orderNo="+e+"&id="+i})},1900)},gotoDetail:function(t){setTimeout(function(){uni.reLaunch({url:"/pages/order/detail?id="+t})},1900)},onBridgeReady:function(t,e,i,n,o,r,s,a){var u=this;WeixinJSBridge.invoke("getBrandWCPayRequest",{appId:t,timeStamp:e,nonceStr:i,package:n,signType:"MD5",paySign:o},function(t){"get_brand_wcpay_request:ok"==t.err_msg?(uni.showToast({title:"支付成功！",duration:2e3}),u.gotoSuccess(r,s,a)):"get_brand_wcpay_request:fail"==t.err_msg&&(uni.showToast({title:"支付失败！",duration:2e3,icon:"none"}),setTimeout(function(){uni.reLaunch({url:"/pages/order/detail?id="+a})},1900))})},submitWXOrderFun:function(t,e,i){var n=this;(0,a.submitWXOrder)({id:t}).then(function(o){setTimeout(function(){n.lock=!1},400);var r=o.data.result;if("FAIL"==r.return_code)uni.showToast({title:r.return_msg,duration:2e3,icon:"none"}),n.gotoDetail(t);else if("FAIL"==r.result_code)uni.showToast({title:r.err_code_des,duration:2e3,icon:"none"}),n.gotoDetail(t);else if("FAIL"===r.needPay)uni.showToast({title:"下单成功",duration:2e3,icon:"none"}),n.gotoDetail(t);else{var s=r.payappId,a=r.paytimestamp,u=r.paynonceStr,d=r.paypackage,c=r.paySign;n.onBridgeReady(s,a,u,d,c,e,i,t)}}).catch(function(e){uni.showToast({title:"调用微信支付失败",duration:2e3,icon:"none"}),n.gotoDetail(t)})},changeSku:function(t){this.order.goodsOrderDetailCmdList[0].goodsSkuId=t.id,this.order.goodsOrderDetailCmdList[0].price=t.price},blurFun:function(){t.log("blur"),window&&(t.log("windowblur"),window.scrollTo(0,1))},getMyCouponByTargetIdFun:function(){var t=this;(0,a.getMyCouponByTargetId)(this.params).then(function(e){0===e.data.retCode?e.data.result&&(t.couponNum=e.data.result.total||""):t.couponNum=""}).catch(function(e){t.couponNum=""})},payFun:function(){this.submitWXOrderFun(this.orderId,this.sumPrice,this.orderNo)},createOrderFun:function(){var e=this;if(!this.lock){this.lock=!0;var i=JSON.parse((0,o.default)(this.order));this.couponReceiveId&&(i.couponReceiveId=this.couponReceiveId);var n=uni.getStorageSync("inviteCode");n&&(i.inviteCode=n),(0,a.createOrder)(i).then(function(i){t.log("jjll",i),0===i.data.retCode?(e.orderId=i.data.result.id,e.orderNo=i.data.result.orderNo,e.submitWXOrderFun(i.data.result.id,e.sumPrice,i.data.result.orderNo),e.closePay()):(t.log("cuowu--",i),uni.showToast({title:i.data.retMsg,duration:2e3,icon:"none"}),e.lock=!1)}).catch(function(t){uni.showToast({title:"提交订单失败",duration:2e3,icon:"none"}),e.lock=!1})}},getSpuInfoBySpuIdFun:function(){var e=this;this.max=10,(0,a.getSpuInfoBySpuId)({id:this.product.id}).then(function(i){0===i.data.retCode&&(e.product=i.data.result,e.product.stock&&e.product.stock<e.max?e.max=e.product.stock:e.max=0,e.product.spuOtherDto&&e.product.spuOtherDto.buyEndDate&&e.product.spuOtherDto.buyStartDate&&(e.endTime=u.dateUtils.getTimeF(e.product.spuOtherDto.buyEndDate),t.log("this.endTime",e.endTime)),t.log("this.product.skus[0].id",e.product.skus[0].id),uni.getStorageSync("order")||(e.order.goodsOrderDetailCmdList[0].goodsSkuId=e.product.skus[0].id,t.log("this.order.goodsOrderDetailCmdList[0].goodsSkuId",e.order.goodsOrderDetailCmdList[0].goodsSkuId),e.order.goodsOrderDetailCmdList[0].goodsSpuId=e.product.skus[0].spuId,e.order.goodsOrderDetailCmdList[0].price=e.product.skus[0].price,e.order.orderType=e.product.typeId,e.$root.$mp.query.skuId&&(e.order.goodsOrderDetailCmdList[0].goodsSkuId=e.$root.$mp.query.skuId),e.$root.$mp.query.skuPrice&&(e.order.goodsOrderDetailCmdList[0].price=e.$root.$mp.query.skuPrice)))}).catch()},init:function(){if(this.isToken&&(this.getSpuInfoBySpuIdFun(),this.getMyCouponByTargetIdFun()),this.$root.$mp.query.address){var e=JSON.parse(this.$root.$mp.query.address);this.order.goodsOrderAddressCmd.userName=e.userName,this.order.goodsOrderAddressCmd.userPhone=e.userPhone,this.order.goodsOrderAddressCmd.userAddress=e.userAddress,t.log("this.order.goodsOrderAddressCmd",this.order.goodsOrderAddressCmd)}},submitFun:function(){u.validator.ifEmpty(this.order.goodsOrderAddressCmd.userName,"请填写联系人姓名")||u.validator.ifEmpty(this.order.goodsOrderAddressCmd.userPhone,"请填写联系人手机")||u.validator.ifPhone(this.order.goodsOrderAddressCmd.userPhone,"联系人手机格式不正确")||(this.$refs.popup.close(),this.$refs.popup1.open(),this.showPay=!0)},closePay:function(){this.$refs.popup1.close(),this.showPay=!1},showDetailFun:function(){this.showDetail=!0,this.$refs.popup.open()},hideDetailF:function(){t.log("this---",this);var e=this;e.showDetail=!1},hideDetailFun:function(){this.showDetail=!1,this.$refs.popup.close()},stepperChange:function(t){this.order.goodsOrderDetailCmdList[0].number=t.val}}};e.default=d}).call(this,i("5a52")["default"])}}]);