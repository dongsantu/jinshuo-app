(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/maiCenter/intro"],{"284b":function(t,e,n){"use strict";(function(t){n("20e7"),n("921b");i(n("66fd"));var e=i(n("7d9a"));function i(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("6e42")["createPage"])},3287:function(t,e,n){"use strict";var i=n("ade3"),s=n.n(i);s.a},"6dc1":function(t,e,n){"use strict";n.r(e);var i=n("e2fd"),s=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,function(){return i[t]})}(o);e["default"]=s.a},"7d9a":function(t,e,n){"use strict";n.r(e);var i=n("7ffd"),s=n("6dc1");for(var o in s)"default"!==o&&function(t){n.d(e,t,function(){return s[t]})}(o);n("3287");var a,r=n("f0c5"),u=Object(r["a"])(s["default"],i["b"],i["c"],!1,null,"0b984825",null,!1,i["a"],a);e["default"]=u.exports},"7ffd":function(t,e,n){"use strict";var i,s=function(){var t=this,e=t.$createElement;t._self._c},o=[];n.d(e,"b",function(){return s}),n.d(e,"c",function(){return o}),n.d(e,"a",function(){return i})},ade3:function(t,e,n){},e2fd:function(t,e,n){"use strict";(function(t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=n("b78d"),o=n("1022"),a=function(){return n.e("components/uni-popup/uni-popup").then(n.bind(null,"66ca"))},r=function(){return n.e("components/uni-grid/uni-grid").then(n.bind(null,"f7b9"))},u=function(){return Promise.all([n.e("common/vendor"),n.e("components/footer")]).then(n.bind(null,"9e45"))},c=window.location.origin,l={components:{uniGrid:r,footerMenu:u,uniPopup:a},computed:{avatar:function(){return this.$store.state.login&&this.$store.state.login.user?this.$store.state.login.user.avatar:""},nickname:function(){return this.$store.state.login&&this.$store.state.login.user?this.$store.state.login.user.nickname:""},inviteCode:function(){return this.$store.state.login&&this.$store.state.login.user&&this.$store.state.login.user.userAccount?this.$store.state.login.user.userAccount.inviteCode:""},role:function(){return this.$store.state.login&&this.$store.state.login.user&&this.$store.state.login.user.member?this.$store.state.login.user.member.isDis:2},isToken:function(){return this.$store.state.login?this.$store.state.login.token:""},inviter:function(){return this.$store.state.login&&this.$store.state.login.user&&this.$store.state.login.user.member?this.$store.state.login.user.member.parentName:""}},watch:{isToken:function(){this.init()}},onShow:function(){this.init()},onHide:function(){this.init()},methods:{getMyFansFun:function(){var e=this;(0,o.getMyFans)().then(function(n){e.myFans=[],e.photoList=["","","","","","","","","","","","","","","","","","","",""],0===n.data.retCode&&(n.data.result&&(e.myFans=n.data.result),e.photoList=e.photoList.map(function(t,n){return e.myFans[n]&&e.myFans[n].avatar&&(t=e.myFans[n].avatar),t}),console.log(t("this.photoList",e.photoList," at pages\\maiCenter\\intro.vue:139")),console.log(t("this.myFans,",e.myFans," at pages\\maiCenter\\intro.vue:140")))}).catch(function(t){i.showToast({title:t.data.retMsg,duration:2e3,icon:"none"})})},createMainPosterFun:function(){var e=this,n={inviteCode:this.inviteCode,headImgUrl:this.avatar,referrerName:this.nickname,shareUrl:c+"/#/?inviteCode="+this.inviteCode+"&shopId="+this.$store.state.shopId};(0,o.createMainPoster)(n).then(function(t){0===t.data.retCode&&(e.shareQrcode=t.data.result)}).catch(function(e){console.log(t("e---\x3e",e," at pages\\maiCenter\\intro.vue:162")),i.showToast({title:e.data.retMsg,duration:2e3,icon:"none"})})},callbackFun:function(t){t.callback&&this[t.callback]()},showCode:function(){this.createMainPosterFun(),this.$refs.popup1.open()},hideCode:function(){this.$refs.popup1.close()},getMyAccountDisFun:function(){(0,o.getMyAccountDis)().then(function(t){t.code}).catch(function(t){})},init:function(){var e=this;console.log(t("this.isToken",this.isToken," at pages\\maiCenter\\intro.vue:192")),this.menuList.forEach(function(t){t.url=t.url+"?shopId="+e.$store.state.shopId}),this.isToken&&(this.getMyAccountDisFun(),this.getMyFansFun())},getOrderCountWithStatusFun:function(){var t=this;(0,s.getOrderCountWithStatus)().then(function(e){0===e.data.retCode&&(e.data.result["0"]?t.menuList[0].tips=e.data.result["0"]:t.menuList[0].tips="",e.data.result["1"]?t.menuList[1].tips=e.data.result["1"]:t.menuList[1].tips="",e.data.result["4"]?t.menuList[2].tips=e.data.result["4"]:t.menuList[2].tips="",e.data.result["-4"]?t.menuList[3].tips=e.data.result["-4"]:t.menuList[3].tips="")}).catch()},getMyCouponsCountFun:function(){var t=this;(0,s.getMyCouponsCount)().then(function(e){0===e.data.retCode&&(t.myInfo.card=e.data.result||0)}).catch()}},data:function(){return{photoList:["","","","","","","","","","","","","","","","","","","",""],myFans:[],shareQrcode:"",shareBanner:"",menuList:[{image:"/static/mai-icon1.png",text:"推广商品",url:"/pages/maiCenter/spreadProduct",tips:""},{image:"/static/mai-icon2.png",text:"推广海报",callback:"showCode",tips:""},{image:"/static/mai-icon4.png",text:"麦客排行",url:"/pages/order/list?status=-4",tips:""},{image:"/static/mai-icon4.png",text:"麦客权益",url:"/pages/order/list?status=-4",tips:""}],myInfo:{name:"天空行",photo:"/static/templateHL.png",city:"",address:"",account:"0",card:"0",integral:"0"}}}};e.default=l}).call(this,n("0de9")["default"],n("6e42")["default"])}},[["284b","common/runtime","common/vendor"]]]);