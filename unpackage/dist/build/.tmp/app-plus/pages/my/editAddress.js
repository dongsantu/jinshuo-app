(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/my/editAddress"],{"0ed5":function(t,s,e){"use strict";(function(t,d){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i=e("b78d"),r=function(){return Promise.all([e.e("common/vendor"),e.e("components/Winglau14-lotusAddress/Winglau14-lotusAddress")]).then(e.bind(null,"2be3"))},a={components:{"lotus-address":r},data:function(){return{cartItemIds:"",productId:"",ifSelect:!1,lotusAddressData:{visible:!1,provinceName:"",cityName:"",townName:""},address:{address:"",city:"",districts:"",id:"",isDefault:!0,phone:"",province:"",receiver:""}}},onLoad:function(t){},onShow:function(){this.init()},methods:{cutStr:function(){this.address.address=this.address.address.substr(0,50)},gotoList:function(){var s="/pages/my/addressList";this.ifSelect?(s+="?ifSelect=1",s=this.productId?s+"&id="+this.productId:s+"&cartItemIds="+this.cartItemIds):this.productId?s=s+"?id="+this.productId:this.cartItemIds&&(s=s+"?cartItemIds="+this.cartItemIds),setTimeout(function(){t.navigateTo({url:s})},2e3)},addAddressFun:function(){var s=this,e=JSON.parse(JSON.stringify(this.address));e.isDefault=e.isDefault?0:1,(0,i.addAddress)(e).then(function(e){0===e.data.retCode&&(t.showToast({title:"添加成功",duration:2e3,icon:"none"}),s.gotoList())}).catch()},updateAddressFun:function(){var s=this,e=JSON.parse(JSON.stringify(this.address));e.isDefault=e.isDefault?0:1,(0,i.updateAddress)(e).then(function(e){0===e.data.retCode&&(t.showToast({title:"修改成功",duration:2e3,icon:"none"}),s.gotoList())}).catch()},init:function(){this.$root.$mp.query.id&&(this.address.id=this.$root.$mp.query.id),this.$root.$mp.query.ifSelect?this.ifSelect=!0:this.ifSelect=!1,this.$root.$mp.query.productId?this.productId=this.$root.$mp.query.productId:this.productId="",this.$root.$mp.query.cartItemIds?this.cartItemIds=this.$root.$mp.query.cartItemIds:this.cartItemIds="",this.address.id&&this.getAddressByidFun()},openPicker:function(){this.lotusAddressData.visible=!0},choseValue:function(t){console.log(d(t," at pages\\my\\editAddress.vue:168")),this.lotusAddressData.visible=t.visible,t.isChose&&(this.lotusAddressData.provinceName=t.provice,this.lotusAddressData.cityName=t.city,this.lotusAddressData.townName=t.town,this.address.province=t.provice,this.address.city=t.city,this.address.districts=t.town)},getAddressByidFun:function(){var s=this;(0,i.getAddressByid)({id:this.address.id}).then(function(t){0===t.data.retCode&&(s.address=t.data.result,s.lotusAddressData.provinceName=s.address.province,s.lotusAddressData.cityName=s.address.city,s.lotusAddressData.townName=s.address.districts,s.address.isDefault=0===s.address.isDefault)}).catch(function(s){t.showToast({title:s.data.retMsg,duration:2e3,icon:"none"})})},saveAddress:function(){this.address.id?this.updateAddressFun():this.addAddressFun()},changeDefault:function(){this.address.ifDefault=!this.address.ifDefault}}};s.default=a}).call(this,e("6e42")["default"],e("0de9")["default"])},"2ac8":function(t,s,e){"use strict";var d,i=function(){var t=this,s=t.$createElement;t._self._c},r=[];e.d(s,"b",function(){return i}),e.d(s,"c",function(){return r}),e.d(s,"a",function(){return d})},"2fc9":function(t,s,e){"use strict";var d=e("300e"),i=e.n(d);i.a},"300e":function(t,s,e){},"503f":function(t,s,e){"use strict";(function(t){e("20e7"),e("921b");d(e("66fd"));var s=d(e("9887"));function d(t){return t&&t.__esModule?t:{default:t}}t(s.default)}).call(this,e("6e42")["createPage"])},8534:function(t,s,e){"use strict";e.r(s);var d=e("0ed5"),i=e.n(d);for(var r in d)"default"!==r&&function(t){e.d(s,t,function(){return d[t]})}(r);s["default"]=i.a},9887:function(t,s,e){"use strict";e.r(s);var d=e("2ac8"),i=e("8534");for(var r in i)"default"!==r&&function(t){e.d(s,t,function(){return i[t]})}(r);e("2fc9");var a,n=e("f0c5"),o=Object(n["a"])(i["default"],d["b"],d["c"],!1,null,"1f8d6532",null,!1,d["a"],a);s["default"]=o.exports}},[["503f","common/runtime","common/vendor"]]]);